import { specifyCollectionPropertiesSchema, treeNodeNameSchema, } from '../../../definitions/index.js';
export function parseRawCollection(path, rawCollection) {
    const { $description, $extensions, $collection } = specifyCollectionPropertiesSchema.parse(rawCollection, { path: path.toArray() });
    const extractedName = path.tail();
    const name = treeNodeNameSchema.parse(extractedName, { path: path.toArray() });
    return {
        path,
        name,
        $description: $description,
        $extensions: $extensions,
        $collection: $collection,
        allowedModes: $collection.$modes,
    };
}
