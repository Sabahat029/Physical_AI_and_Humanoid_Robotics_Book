export function makeGetChildrenOfFilter(targetPath, depth = Infinity) {
    const targetStringPath = targetPath.toString();
    return function getChildrenOfFilter(node) {
        if (node.path.length <= targetPath.length) {
            return false;
        }
        if (node.path.toString() === targetStringPath) {
            return false;
        }
        if (!node.path.toString().startsWith(targetStringPath)) {
            return false;
        }
        const hasSameRoot = targetPath.isRootOf(node.path);
        if (!hasSameRoot) {
            return false;
        }
        const rightPartOfPath = node.path.clone().removeLeft(targetPath.length);
        return rightPartOfPath.length <= depth;
    };
}
