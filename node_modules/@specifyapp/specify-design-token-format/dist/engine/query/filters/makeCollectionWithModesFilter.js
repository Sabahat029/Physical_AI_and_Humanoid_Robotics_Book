import { returnTrue } from '../internals/returnTrue.js';
export function makeCollectionWithModesFilter(withModes) {
    if (withModes === undefined)
        return returnTrue;
    return function filter(collectionState) {
        const collectionModes = collectionState.innerAllowedModes;
        const matchOnInclude = withModes.include
            ? withModes.include.some(m => collectionModes.includes(m))
            : true;
        const matchOnExclude = withModes.exclude
            ? !withModes.exclude.some(m => collectionModes.includes(m))
            : true;
        return matchOnInclude && matchOnExclude;
    };
}
