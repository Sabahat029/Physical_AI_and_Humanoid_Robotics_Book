import { colorValueToCss, rawColorToCss } from './color.js';
import { rawDimensionToCss } from './dimension.js';
import { unwrapInnerValue } from '../../_utils/unwrapInnerValue.js';
import { DEFAULT_UNRESOLVABLE_STRATEGY } from '../aliasStrategies/throwOnUnresolvable.js';
/**
 * Converts a `TokenState<'border'>` to a css value.
 * E.g: `thick double #32a1ce`
 */
export function borderToCss(aliasStrategy, unresolvableAliasStrategy = DEFAULT_UNRESOLVABLE_STRATEGY) {
    return (tokenState) => tokenState
        .getStatefulValueResult()
        .mapResolvableTopLevelAlias(aliasStrategy)
        .mapUnresolvableTopLevelAlias(alias => unresolvableAliasStrategy(tokenState, alias))
        .mapTopLevelValue(value => value
        .mapRawValue(rawValue => rawBorderToCss(rawValue, aliasStrategy, unresolvableAliasStrategy))
        .mapResolvableModeLevelAlias(aliasStrategy)
        .mapUnresolvableModeLevelAlias(alias => unresolvableAliasStrategy(tokenState, alias))
        .unwrap())
        .unwrap();
}
/**
 * Converts a `RawValueSignature<'border'>` to css.
 */
export function rawBorderToCss(border, aliasStrategy, unresolvableAliasStrategy = DEFAULT_UNRESOLVABLE_STRATEGY) {
    const borderStyle = border.style.resolveDeepValue().unwrapValue();
    return `${unwrapInnerValue(border.width.mapPrimitiveValue(rawDimensionToCss), aliasStrategy, unresolvableAliasStrategy)}${typeof borderStyle === 'string' ? ' ' + borderStyle : ''} ${unwrapInnerValue(border.color.mapPrimitiveValue(v => rawColorToCss(v, aliasStrategy, unresolvableAliasStrategy)), aliasStrategy, unresolvableAliasStrategy)}`;
}
/**
 * Converts a border to css.
 */
export function borderValueToCss(border) {
    return `${border.width.value}${border.width.unit}${typeof border.style === 'string' ? ' ' + border.style : ''} ${colorValueToCss(border.color)}`;
}
//# sourceMappingURL=border.js.map