import { matchJsonValue } from '../../utils/jsonValueMatcher.js';
export function tokenToAstTokenValue(token, matcher) {
    if (!token.isFullyResolvable) {
        return undefined;
    }
    const outputByMode = token.modes.reduce((acc, mode) => {
        const output = matchJsonValue(matcher, _ => {
            return undefined;
        }, token, mode);
        if (!output)
            return acc;
        acc[mode] = output;
        return acc;
    }, {});
    if (Object.values(outputByMode).every(v => !v))
        return undefined;
    return { path: token.path.toString(), value: outputByMode };
}
//# sourceMappingURL=tokenToAstToken.js.map