import {
  SpecifyDesignTokenTypeName,
  TokenState,
  UnresolvableModeLevelAlias,
  UnresolvableTopLevelAlias,
  UnresolvableValueLevelAlias,
} from '@specifyapp/specify-design-token-format';

export type AllUnresolvableAlias =
  | UnresolvableModeLevelAlias
  | UnresolvableValueLevelAlias
  | UnresolvableTopLevelAlias;

export type UnresolvableAliasStrategy<Return> = <
  Alias extends AllUnresolvableAlias = AllUnresolvableAlias,
  Type extends SpecifyDesignTokenTypeName = SpecifyDesignTokenTypeName,
>(
  tokenState: TokenState<Type>,
  alias: Alias,
) => Alias extends UnresolvableTopLevelAlias ? { [mode: string]: Return } : Return;
