import {
  RawTokenData,
  renderTemplate,
  sanitizeData,
} from '../../../builtInParsers/utils/template.js';

export const INVALID_CHARS = /[\/\| \\~,@#$%^&*(){}|[\]?<>"'+=!]/g;

export const DEFAULT_TEMPLATE =
  '${{#if groups}}{{groups}}-{{/if}}{{token}}{{#if mode}}-{{mode}}{{/if}}';

export function renderVariable(template: string, data: RawTokenData) {
  return renderTemplate(template, sanitizeData(data, INVALID_CHARS, '-'));
}
