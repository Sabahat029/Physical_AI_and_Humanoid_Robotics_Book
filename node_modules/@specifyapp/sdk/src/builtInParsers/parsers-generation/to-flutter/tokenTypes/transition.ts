import { SpecifyTransitionValue } from '@specifyapp/specify-design-token-format';
import { renderDuration } from './duration.js';
import { MultipleConversionOutput } from '../convertTokens.js';
import { renderCubicBezier } from './cubicBezier.js';

export function renderTransition(
  transition: SpecifyTransitionValue,
  variableName: string,
): MultipleConversionOutput {
  const values: MultipleConversionOutput = [
    {
      variableName: `${variableName}Delay`,
      value: renderDuration(transition.delay),
      type: 'duration',
    },
    {
      variableName: `${variableName}Duration`,
      value: renderDuration(transition.duration),
      type: 'duration',
    },
  ];

  if (Array.isArray(transition.timingFunction)) {
    values.push({
      variableName: `${variableName}Cubic`,
      value: renderCubicBezier(transition.timingFunction),
      type: 'cubicBezier',
    });
  }

  return values;
}
