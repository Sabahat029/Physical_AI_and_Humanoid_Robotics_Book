import { SpecifyColorValue } from '@specifyapp/specify-design-token-format';
//@ts-ignore
import tinycolor from 'tinycolor2';
import { numberToDouble } from '../utils.js';

export function renderColor(color: SpecifyColorValue) {
  const alpha = color.alpha;

  switch (color.model) {
    case 'hex': {
      const tc = tinycolor(color.hex);
      tc.setAlpha(alpha);

      const hex8 = tc.toHex8().toUpperCase();

      return `Color(0x${hex8.substring(6)}${hex8.substring(0, 6)})`;
    }
    case 'rgb': {
      return `Color.fromRGBO(${color.red}, ${color.green}, ${color.blue}, ${numberToDouble(
        alpha,
      )})`;
    }
    default:
      return undefined;
  }
}
