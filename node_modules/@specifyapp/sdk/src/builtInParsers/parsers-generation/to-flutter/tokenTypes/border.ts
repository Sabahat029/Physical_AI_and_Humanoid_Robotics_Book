import { SpecifyBorderValue } from '@specifyapp/specify-design-token-format';
import { renderColor } from './color.js';
import { renderRadii } from './radii.js';
import { MultipleConversionOutput } from '../convertTokens.js';

export function renderBorder(
  border: SpecifyBorderValue,
  variableName: string,
): MultipleConversionOutput {
  const color = renderColor(border.color);

  if (!color) return [];

  const values: MultipleConversionOutput = [
    {
      variableName,
      value: `BorderSide(width: ${
        Number.isInteger(border.width.value) ? border.width.value.toFixed(1) : border.width.value
      }, color: ${color})`,
      type: 'border',
    },
  ];

  if (!!border.rectangleCornerRadii) {
    values.push({
      variableName: `${variableName}BorderRadius`,
      value: renderRadii(border.rectangleCornerRadii),
      type: 'radii',
    });
  }

  return values;
}
