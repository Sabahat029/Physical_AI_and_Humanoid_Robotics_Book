import { SpecifyTransitionValue } from '@specifyapp/specify-design-token-format';
import { durationToKotlin } from './duration.js';
import { MultipleConversionOutput } from '../convertTokens.js';
import { cubicBezierToKotlin } from './cubicBezier.js';

export function transitionToKotlin(
  transition: SpecifyTransitionValue,
  variableName: string,
): MultipleConversionOutput {
  const output = [
    {
      variableName: `${variableName}Delay`,
      value: durationToKotlin(transition.delay),
      type: 'duration',
    },
    {
      variableName: `${variableName}Duration`,
      value: durationToKotlin(transition.duration),
      type: 'duration',
    },
  ] as MultipleConversionOutput;

  if (Array.isArray(transition.timingFunction)) {
    output.push({
      variableName,
      value: cubicBezierToKotlin(transition.timingFunction),
      type: 'cubicBezier',
    });
  }

  return output;
}
