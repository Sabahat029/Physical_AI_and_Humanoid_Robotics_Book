import { SpecifyShadowValue } from '@specifyapp/specify-design-token-format';
import { colorToSwift } from './color.js';
import { numberToDouble } from '../utils.js';
import { dimensionToSwift } from './dimension.js';
import { MultipleConversionOutput } from '../convertTokens.js';

export function shadowToSwift(shadow: SpecifyShadowValue, variableName: string) {
  const color = colorToSwift(shadow.color);

  if (!color) return [];

  return [
    {
      variableName: `${variableName}Color`,
      value: color,
      type: 'shadow',
    },
    {
      variableName: `${variableName}X`,
      value: dimensionToSwift(shadow.offsetX),
      type: 'shadow',
    },
    {
      variableName: `${variableName}X`,
      value: dimensionToSwift(shadow.offsetX),
      type: 'shadow',
    },
    {
      variableName: `${variableName}Spread`,
      value: numberToDouble(shadow.spreadRadius.value),
      type: 'shadow',
    },
    {
      variableName: `${variableName}Blur`,
      value: numberToDouble(shadow.blurRadius.value),
      type: 'shadow',
    },
  ] as MultipleConversionOutput;
}
