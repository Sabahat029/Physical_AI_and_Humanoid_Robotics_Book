import { SpecifyGradientsValue } from '@specifyapp/specify-design-token-format';
import { gradientToSwift } from './gradient.js';
import type { MultipleConversionOutput } from '../convertTokens.js';

export function gradientsToSwift(
  gradients: SpecifyGradientsValue,
  variableName: string,
): MultipleConversionOutput {
  return gradients.flatMap<MultipleConversionOutput[number]>((v, i) => {
    const gradient = gradientToSwift(v);

    if (!gradient) return [];

    return [
      {
        value: gradient,
        variableName: `${variableName}${i}`,
        type: 'gradient',
      },
    ];
  });
}
