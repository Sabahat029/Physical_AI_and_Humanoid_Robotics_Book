import { z } from 'zod';
import { createBuiltInParserDefinition } from '../../internals/createBuiltInParserDefinition.js';

export const toBitmapFileParserName = 'to-bitmap-file';

export const toBitmapFileParserOptionsSchema = z
  .object({
    filenameTemplate: z.string().optional(),
  })
  .strict();

export const toBitmapFileParserDefinition = createBuiltInParserDefinition({
  name: toBitmapFileParserName,
  kind: 'generation',
  hasOptionalOptions: true,
  optionsSchema: toBitmapFileParserOptionsSchema,
  hasOptionalOutput: false,
  outputTypes: ['directory'],
  inTypes: ['SDTF', 'SDTF Engine'],
  outType: 'bitmap',
});

export type ToBitmapFileParserDefinition = typeof toBitmapFileParserDefinition;
export type ToBitmapFileParserOptions = z.infer<ToBitmapFileParserDefinition['optionsSchema']>;
