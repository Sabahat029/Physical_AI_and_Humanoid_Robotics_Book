import {
  ResolvableValueLevelAlias,
  ResolvableModeLevelAlias,
  TokenState,
} from '@specifyapp/specify-design-token-format';
import { makeFileName } from './makeFileName.js';

export function aliasOfResolvableAlias(
  alias: ResolvableModeLevelAlias | ResolvableValueLevelAlias,
) {
  const [fileName, tokenNesting] = makeFileName(
    alias.tokenState.type,
    alias.tokenState,
    alias.targetMode,
  );

  return `{${fileName.replace(/\//g, '.')}.${!!tokenNesting ? tokenNesting + '.' : ''}${
    alias.tokenState.name
  }}`;
}

/* v8 ignore start */
export function aliasOfToken(token: TokenState, mode: string) {
  const [fileName, tokenNesting] = makeFileName(token.type, token, mode);

  return `{${fileName.replace(/\//g, '.')}.${!!tokenNesting ? tokenNesting + '.' : ''}${
    token.name
  }}`;
}
/* v8 ignore stop */
