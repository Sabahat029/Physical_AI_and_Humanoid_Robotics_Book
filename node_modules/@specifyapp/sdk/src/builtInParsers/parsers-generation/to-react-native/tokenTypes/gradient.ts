import { SpecifyGradientValue } from '@specifyapp/specify-design-token-format';
import { renderColor } from './color.js';

export function renderGradient(gradient: SpecifyGradientValue) {
  const variables = {
    colors: gradient.colorStops.map(({ color }) => renderColor(color)),
    colorsPositions: gradient.colorStops.map(({ position }) => position),
  } as { colors: Array<string>; colorsPositions: Array<number>; position?: string; angle?: number };

  switch (gradient.type) {
    case 'conic': {
      variables.position = gradient.position;
      variables.angle = gradient.angle;
      break;
    }
    case 'radial': {
      variables.position = gradient.position;
      break;
    }
    case 'linear': {
      variables.angle = gradient.angle;
      break;
    }
  }

  return variables;
}
